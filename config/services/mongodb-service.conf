# =============================================================================
# mongodb-service.conf - MongoDB 서비스 백업 설정 예시
# =============================================================================

SERVICE_NAME=mongodb-service
SERVICE_DESC="MongoDB 서비스"
BACKUP_ENABLED=true

# -----------------------------------------------------------------------------
# [DB 백업 설정 - MongoDB]
# -----------------------------------------------------------------------------
BACKUP_DB_ENABLED=true
DB_TYPE=mongodb

DB_HOST=localhost
DB_PORT=27017
DB_USER=backupuser
DB_PASS=MongoSecret
DB_AUTH_DB=admin
# 특정 DB만 (비우면 전체)
DB_NAMES="myapp_db"
DB_EXTRA_OPTS="--gzip --oplog"

# -----------------------------------------------------------------------------
# [웹/앱 모듈 백업]
# -----------------------------------------------------------------------------
BACKUP_WEB_ENABLED=true
WEB_SOURCE_DIRS="/opt/nodeapp:/etc/nodeapp"
WEB_EXCLUDE_PATTERNS="node_modules .git *.log"

# -----------------------------------------------------------------------------
# [앱 로그 백업]
# -----------------------------------------------------------------------------
BACKUP_APP_LOG_ENABLED=true
APP_LOG_DIRS="/var/log/mongodb:/var/log/nodeapp"
APP_LOG_DAYS=1
APP_LOG_PATTERN="*.log"

# -----------------------------------------------------------------------------
# [OS 로그]
# -----------------------------------------------------------------------------
BACKUP_OS_LOG_ENABLED=true
OS_LOG_FILES="syslog auth.log"
OS_LOG_DAYS=1

RETENTION_DAYS=30

RESTORE_TARGET_HOST=localhost
