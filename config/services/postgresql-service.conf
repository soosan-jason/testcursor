# =============================================================================
# postgresql-service.conf - PostgreSQL 서비스 백업 설정 예시
# =============================================================================

SERVICE_NAME=postgresql-service
SERVICE_DESC="PostgreSQL 서비스"
BACKUP_ENABLED=true

# -----------------------------------------------------------------------------
# [DB 백업 설정 - PostgreSQL]
# -----------------------------------------------------------------------------
BACKUP_DB_ENABLED=true
DB_TYPE=postgresql

DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASS=
# .pgpass 또는 PGPASSFILE 사용 권장
PGPASSFILE=/home/backupuser/.pgpass
DB_NAMES="webapp_db reporting_db"
DB_EXTRA_OPTS="--no-password --verbose"

# -----------------------------------------------------------------------------
# [웹/앱 모듈 백업]
# -----------------------------------------------------------------------------
BACKUP_WEB_ENABLED=true
WEB_SOURCE_DIRS="/opt/webapp:/etc/webapp"
WEB_EXCLUDE_PATTERNS="*.log *.pid *.sock tmp cache"

# -----------------------------------------------------------------------------
# [앱 로그 백업]
# -----------------------------------------------------------------------------
BACKUP_APP_LOG_ENABLED=true
APP_LOG_DIRS="/var/log/postgresql:/var/log/webapp"
APP_LOG_DAYS=1
APP_LOG_PATTERN="*.log *.csv"

# -----------------------------------------------------------------------------
# [OS 로그]
# -----------------------------------------------------------------------------
BACKUP_OS_LOG_ENABLED=false

# -----------------------------------------------------------------------------
# [보존 정책]
# -----------------------------------------------------------------------------
RETENTION_DAYS=30

RESTORE_TARGET_HOST=localhost
RESTORE_TARGET_DB_USER=postgres
